---
import Layout from '../layouts/Layout.astro';
import PostPreview from '../components/blog/PostPreview.astro';
import { getCollection } from 'astro:content';

const posts = (await getCollection('blog'))
  .filter(post => !post.data.draft)
  .sort((a, b) => b.data.pubDate.valueOf() - a.data.pubDate.valueOf());
---
<Layout title="Txchyon Alpha">
  <main class="py-24">
    <div class="container mx-auto px-6">
      <h1 class="text-6xl font-bold text-center mb-6">Txchyon Alpha Drops</h1>
      <p class="text-xl text-center text-gray-400 max-w-3xl mx-auto mb-16">
        Real edges. No paywall. No bullshit.
      </p>

      <div class="grid gap-10 md:grid-cols-2 lg:grid-cols-3">
        {posts.map(post => (
          <PostPreview {post} />
        ))}
      </div>
    </div>
  </main>
</Layout>
